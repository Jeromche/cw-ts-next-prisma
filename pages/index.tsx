import { useState, useEffect } from 'react'
import type { NextPage } from 'next'
import { locations } from '../constants/locations'
import Head from 'next/head'
import Timer from '../components/Timer';
import ShiftList from '../components/ShiftList';
import AuthBanner from '../components/AuthBanner'

export interface State {
  location: string
  startedAt: number | null
  time: {
    hours: number
    minutes: number
    seconds: number
  }
}

const initialState = {
  location: locations[0],
  startedAt: null,
  time: {
    hours: 0,
    minutes: 0,
    seconds: 0
  }
}

const Home: NextPage = () => {
  const [state, setState] = useState<State>(initialState)

  return (
    <div>
      <Head>
        <title>Shift App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main className='p-10'>
        <h1 className='text-2xl font-bold'>
          Shift App
        </h1>
        <Timer state={state} setState={setState} />
        <ShiftList state={state} />
        <AuthBanner />
      </main>
    </div>
  )
}

export default Home
